"use strict";(self.webpackChunkhimonk_admin_front=self.webpackChunkhimonk_admin_front||[]).push([[5859],{35859:function(t,n,e){e.r(n),e.d(n,{default:function(){return w}});var r=e(26445),i=e(29435),a=e(94240),u=e(1821),o=e(52933),c=e(16871),s=e(63153),d=e(23958),l=e(62534),f=e(8935),p=e(74661),v=e(90704),m=e(4535),y=e(80184),Z=(0,v.Z)({form:"AddCityForm"})((function(t){var n=t.handleSubmit;return(0,y.jsxs)("form",{onSubmit:n,children:[(0,y.jsx)(p.ZP,{fields:h}),(0,y.jsx)("br",{}),(0,y.jsx)(m.Z,{color:"primary",variant:"contained",type:"submit",children:"Submit"})]})})),h=[{label:"City Name",name:"name",validate:[f.C1],component:l.Z,cellProps:{md:6}}],C=e(72791),x=e(92381),g=e(73612);function b(t){var n=t.id,e=(0,c.s0)(),r=(0,s.T)(),i=(0,s.C)((function(t){return t.city.city}));return(0,C.useEffect)((function(){return d.Z.getCitybyID("".concat(n),r),function(){r(g.G4.setCity(null))}}),[n,r]),(0,C.useEffect)((function(){if(i&&"Not Found"!==(null===i||void 0===i?void 0:i.data)){var t=i.name;r((0,x.m)("AddCityForm","name",t))}}),[i,e,r]),null}function w(){var t=(0,c.UO)().id,n=(0,c.s0)(),e=(0,s.T)(),l=(0,s.C)((function(t){return t.formLoader.loading}));return(0,y.jsxs)(r.Z,{maxWidth:"lg",children:[(0,y.jsx)(a.Z,{path:"/city-management",title:"Cities"}),(0,y.jsx)(u.Z,{heading:"".concat(t?"Update":"Add"," City")}),(0,y.jsxs)(o.Z,{children:[l&&(0,y.jsx)(i.Z,{}),(0,y.jsx)(Z,{onSubmit:function(r){t?d.Z.updateCity("".concat(t),r,e,n):d.Z.createCity(r,e,n)}}),t&&(0,y.jsx)(b,{id:t})]})]})}},23958:function(t,n,e){var r=e(70885),i=e(15861),a=e(87757),u=e.n(a),o=e(33795),c=e(22134),s=e(99954),d=e(46227),l=e(73612),f="/city",p={getCitybyID:function(){var t=(0,i.Z)(u().mark((function t(n,e){var i,a,s,p,v;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===e||void 0===e||e(d.Ay.setLoading(!0)),o.Z.setJWT(),t.next=4,c.Z.asPromise(o.Z.get("".concat(f,"/").concat(n)));case 4:return i=t.sent,a=(0,r.Z)(i,2),s=a[0],p=a[1],s&&(v=s.data.data.city,null===e||void 0===e||e(l.G4.setCity(v))),null===e||void 0===e||e(d.Ay.setLoading(!1)),t.abrupt("return",[s,p]);case 11:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),getCities:function(){var t=(0,i.Z)(u().mark((function t(n){var e,i,a,s,d;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===n||void 0===n||n(l.G4.setLoading(!0)),o.Z.setJWT(),t.next=4,c.Z.asPromise(o.Z.get("".concat(f)));case 4:return e=t.sent,i=(0,r.Z)(e,2),a=i[0],s=i[1],a&&(d=a.data.data.cities,null===n||void 0===n||n(l.G4.setCities(d))),null===n||void 0===n||n(l.G4.setLoading(!1)),t.abrupt("return",[a,s]);case 11:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),createCity:function(){var t=(0,i.Z)(u().mark((function t(n,e,i){var a,s,l,p;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===e||void 0===e||e(d.Ay.setLoading(!0)),o.Z.setJWT(),t.next=4,c.Z.asPromise(o.Z.post("".concat(f),n));case 4:return a=t.sent,s=(0,r.Z)(a,2),l=s[0],p=s[1],l&&(null===i||void 0===i||i("/city-management")),null===e||void 0===e||e(d.Ay.setLoading(!1)),t.abrupt("return",[l,p]);case 11:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),deleteCity:function(){var t=(0,i.Z)(u().mark((function t(n,e){var i,a,d,p;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===e||void 0===e||e(s.nT.setLoading(!0)),o.Z.setJWT(),t.next=4,c.Z.asPromise(o.Z.delete("".concat(f,"/").concat(n)));case 4:return i=t.sent,a=(0,r.Z)(i,2),d=a[0],p=a[1],d&&(null===e||void 0===e||e(s.nT.closeModal()),null===e||void 0===e||e(l.G4.filterCity(n))),null===e||void 0===e||e(s.nT.setLoading(!1)),t.abrupt("return",[d,p]);case 11:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),updateCity:function(){var t=(0,i.Z)(u().mark((function t(n,e,i,a){var s,p,v,m,y;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===i||void 0===i||i(d.Ay.setLoading(!0)),o.Z.setJWT(),t.next=4,c.Z.asPromise(o.Z.put("".concat(f,"/").concat(n),e));case 4:return s=t.sent,p=(0,r.Z)(s,2),v=p[0],m=p[1],v&&(y=v.data.data,null===i||void 0===i||i(l.G4.updateCity({id:n,city:y})),null===a||void 0===a||a("/city-management")),null===i||void 0===i||i(d.Ay.setLoading(!1)),t.abrupt("return",[v,m]);case 11:case"end":return t.stop()}}),t)})));return function(n,e,r,i){return t.apply(this,arguments)}}()};n.Z=p}}]);
//# sourceMappingURL=5859.12b62e48.chunk.js.map