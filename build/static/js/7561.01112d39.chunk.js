"use strict";(self.webpackChunkhimonk_admin_front=self.webpackChunkhimonk_admin_front||[]).push([[7561],{46849:function(e,n,t){t.d(n,{Z:function(){return d}});var a=t(1413),r=t(45987),o=t(85523),i=t(79174),l=t(80184),u=["label","FormControlLabelProps"];function s(e){var n=e.label,t=e.FormControlLabelProps,s=(0,r.Z)(e,u);return(0,l.jsx)(o.Z,(0,a.Z)((0,a.Z)({control:(0,l.jsx)(i.Z,(0,a.Z)({},s))},t),{},{label:n}))}var c=["input","handleBlur","handleFocus","CheckBoxProps"];function d(e){var n=e.input,t=e.handleBlur,o=e.handleFocus,i=e.CheckBoxProps,u=(0,r.Z)(e,c);return(0,l.jsx)(s,(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},i),u),n),{},{checked:!0===n.value,onBlur:function(e){null===t||void 0===t||t(e),e.preventDefault()},onFocus:function(e){null===o||void 0===o||o(e),e.preventDefault()}}))}},24831:function(e,n,t){t.d(n,{Z:function(){return b}});var a=t(1413),r=t(70885),o=t(15861),i=t(45987),l=t(87757),u=t.n(l),s=t(62478),c=t(85001),d=t(80184),p=["value","accept","maxSize","onChange"];function f(e){e.value;var n=e.accept,t=e.maxSize,r=e.onChange,o=(0,i.Z)(e,p);return(0,d.jsx)(s.Z,(0,a.Z)((0,a.Z)({},o),{},{type:"file",inputProps:(0,a.Z)({accept:n},o.inputProps),InputLabelProps:(0,a.Z)({shrink:!0},o.InputLabelProps),onChange:function(e){var a,o=null===(a=e.target.files)||void 0===a?void 0:a[0];if(!o)return null===r||void 0===r?void 0:r(o);if(n){var i=o.name.split("."),l=i[i.length-1].toLowerCase();if(!n.includes(".".concat(l))){c.Z.showError("".concat(l," not allowed!"));var u={error:"".concat(l," not allowed!")};return null===r||void 0===r?void 0:r(u)}}if(t){var s=1024*t*1024;if(o.size>s){c.Z.showError("Max file size is ".concat(t," MB"));var d={error:"Max file size is ".concat(t," MB")};return null===r||void 0===r?void 0:r(d)}}null===r||void 0===r||r(o)}}))}var m=t(63153),v=t(46227),g=t(33795),Z=t(22134),h={upload:function(){var e=(0,o.Z)(u().mark((function e(n,t){var a,o,i,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===t||void 0===t||t(v.Ay.setLoading(!0)),g.Z.setJWT(),g.Z.setMultiPart(),e.next=5,Z.Z.asPromise(g.Z.post("".concat("/upload"),n));case 5:return a=e.sent,o=(0,r.Z)(a,2),i=o[0],l=o[1],null===t||void 0===t||t(v.Ay.setLoading(!1)),e.abrupt("return",[i,l]);case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},y=h,x=["input","handleBlur","handleFocus","FileUploadProps","meta"];function b(e){var n=e.input,t=e.handleBlur,l=e.handleFocus,s=e.FileUploadProps,c=e.meta,p=c.error,v=c.touched,g=c.invalid,Z=(0,i.Z)(e,x),h=(0,m.T)();return(0,d.jsx)(f,(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},s),Z),n),{},{helperText:v&&g&&p,error:v&&g&&p&&!0,onChange:function(){var e=(0,o.Z)(u().mark((function e(t){var a,o,i,l,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}if(!t.error){e.next=3;break}return e.abrupt("return",n.onChange(t));case 3:return(a=new FormData).append("file",t),e.next=7,y.upload(a,h);case 7:o=e.sent,i=(0,r.Z)(o,1),(l=i[0])?(s=l.data.data,n.onChange({images:s,name:t.name,type:t.type,blob:URL.createObjectURL(t)})):n.onChange(""),e.next=14;break;case 13:n.onChange("");case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onBlur:function(e){null===t||void 0===t||t(e),e.preventDefault()},onFocus:function(e){null===l||void 0===l||l(e),e.preventDefault()}}))}},33107:function(e,n,t){t.d(n,{Z:function(){return u}});var a=t(1413),r=t(42982),o=t(72791),i=t(74661),l=t(80184);function u(e){var n=e.fields,t=e.fieldsArray,u=e.FieldsProps;return(0,o.useEffect)((function(){((null===u||void 0===u?void 0:u.languages)||["en","de","tr"]).forEach((function(e){n.push({lang:e})}))}),[]),(0,l.jsx)(l.Fragment,{children:n.map((function(e,s){return(0,l.jsxs)(o.Fragment,{children:[(null===u||void 0===u?void 0:u.showLabelInHeading)&&(0,l.jsx)("h3",{children:i.Oq[n.get(s).lang]}),(0,l.jsx)(i.ZP,{member:e,fields:null!==u&&void 0!==u&&u.showLabelInHeading?(0,r.Z)(t):t.map((function(e){return"translation"===e.name?(0,a.Z)((0,a.Z)({},e),{},{label:"".concat(e.label," (").concat(i.Oq[n.get(s).lang],")")}):e}))})]},s)}))})}},37561:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var a=t(1413),r=t(26445),o=t(29435),i=t(94240),l=t(1821),u=t(52933),s=t(16871),c=t(63153),d=t(3153),p=t(8935),f=t(46849),m=t(24831),v=t(62534),g=t(33107),Z=t(4535),h=t(74661),y=t(90704),x=t(80184),b=(0,y.Z)({form:"AddCategoryForm"})((function(e){var n=e.handleSubmit;return(0,x.jsxs)("form",{onSubmit:n,children:[(0,x.jsx)(h.ZP,{fields:C}),(0,x.jsx)("br",{}),(0,x.jsx)(Z.Z,{color:"primary",variant:"contained",type:"submit",children:"Submit"})]})})),C=[{label:"Is Active",name:"isActive",component:f.Z,cellProps:{md:12}},{label:"Display Order",name:"displayOrder",component:v.Z,validate:[p.C1,p.Rx],cellProps:{md:6}},{label:"Small Image (327x378 - jpg)",name:"smallImage",component:m.Z,cellProps:{md:6},FileUploadProps:{maxSize:5,accept:[".jpg",".jpeg",".png"]},validate:[p.C1,p.tP]},{label:"Large Image (662x378  - jpg)",name:"largeImage",component:m.Z,cellProps:{md:6},FileUploadProps:{maxSize:5,accept:[".jpg",".jpeg",".png"]},validate:[p.C1,p.tP]},{name:"translations",label:"Translations",reduxFormComponent:"FieldArray",component:g.Z,fieldsArray:[{label:"Name",name:"translation",component:v.Z,cellProps:{md:12},validate:[p.C1]}]}],P=t(45987),j=t(72791),w=t(92381),L=t(63804),F=["_id"];function k(e){var n=e.id,t="AddCategoryForm",r=(0,s.s0)(),o=(0,c.T)(),i=(0,c.C)((function(e){return e.category.category}));return(0,j.useEffect)((function(){return d.Z.getCategorybyID("".concat(n),o),function(){o(L.X$.setCategory(null))}}),[n,o]),(0,j.useEffect)((function(){if(i&&"Not Found"!==(null===i||void 0===i?void 0:i.data)){var e=i.isActive,n=i.displayOrder,r=i.smallImage,l=i.largeImage,u=i.translations;o((0,w.m)(t,"isActive",e)),o((0,w.m)(t,"displayOrder",n)),o((0,w.m)(t,"smallImage",{images:[{path:r}]})),o((0,w.m)(t,"largeImage",{images:[{path:l}]})),o((0,w.m)(t,"translations",u.map((function(e){e._id;var n=(0,P.Z)(e,F);return(0,a.Z)({},n)}))))}}),[i,r,o]),null}function I(){var e=(0,c.T)(),n=(0,s.s0)(),t=(0,s.UO)().id,p=(0,c.C)((function(e){return e.formLoader.loading}));return(0,x.jsxs)(r.Z,{maxWidth:"lg",children:[(0,x.jsx)(i.Z,{path:"/category-management",title:"Categories"}),(0,x.jsx)(l.Z,{heading:"".concat(t?"Update":"Add New"," Category")}),(0,x.jsxs)("div",{style:{position:"relative"},children:[p&&(0,x.jsx)(o.Z,{}),(0,x.jsxs)(u.Z,{children:[(0,x.jsx)(b,{onSubmit:function(r){var o=(0,a.Z)({},r);o.smallImage=o.smallImage.images[0].path,o.largeImage=o.largeImage.images[0].path,t?d.Z.updateCategory("".concat(t),o,e,n):d.Z.addCategory(o,e,n)}}),t&&(0,x.jsx)(k,{id:t})]})]})]})}},3153:function(e,n,t){var a=t(70885),r=t(15861),o=t(87757),i=t.n(o),l=t(46812),u=t(77834),s=t(33795),c=t(22134),d=t(63804),p="/categories",f={getCategorybyID:function(){var e=(0,r.Z)(i().mark((function e(n,t){var r,o,u,f,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===t||void 0===t||t(l.Ay.setLoading(!0)),s.Z.setJWT(),e.next=4,c.Z.asPromise(s.Z.get("".concat(p,"/").concat(n)));case 4:return r=e.sent,o=(0,a.Z)(r,2),u=o[0],f=o[1],u&&(m=u.data.data.category,null===t||void 0===t||t(d.X$.setCategory(m))),null===t||void 0===t||t(l.Ay.setLoading(!1)),e.abrupt("return",[u,f]);case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),getCategories:function(){var e=(0,r.Z)(i().mark((function e(n,t){var r,o,l,u,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===t||void 0===t||t(d.X$.setLoading(!0)),s.Z.setJWT(),e.next=4,c.Z.asPromise(s.Z.post("".concat(p,"/filter"),n));case 4:return r=e.sent,o=(0,a.Z)(r,2),l=o[0],u=o[1],l&&(f=l.data.data,null===t||void 0===t||t(d.X$.setCategories(f))),null===t||void 0===t||t(d.X$.setLoading(!1)),e.abrupt("return",[l,u]);case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),addCategory:function(){var e=(0,r.Z)(i().mark((function e(n,t,r){var o,u,f,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===t||void 0===t||t(l.Ay.setLoading(!0)),s.Z.setJWT(),e.next=4,c.Z.asPromise(s.Z.post("".concat(p),n));case 4:return o=e.sent,u=(0,a.Z)(o,2),f=u[0],m=u[1],f&&(v=f.data.data,null===t||void 0===t||t(d.X$.addCategory(v)),null===r||void 0===r||r("/category-management")),null===t||void 0===t||t(l.Ay.setLoading(!1)),e.abrupt("return",[f,m]);case 11:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),deleteCategory:function(){var e=(0,r.Z)(i().mark((function e(n,t){var r,o,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===t||void 0===t||t(u.nT.setLoading(!0)),s.Z.setJWT(),e.next=4,c.Z.asPromise(s.Z.delete("".concat(p,"/").concat(n)));case 4:return r=e.sent,o=(0,a.Z)(r,2),l=o[0],f=o[1],l&&(null===t||void 0===t||t(u.nT.closeModal()),null===t||void 0===t||t(d.X$.filterCategory(n))),null===t||void 0===t||t(u.nT.setLoading(!1)),e.abrupt("return",[l,f]);case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),updateCategory:function(){var e=(0,r.Z)(i().mark((function e(n,t,r,o){var u,f,m,v,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===r||void 0===r||r(l.Ay.setLoading(!0)),s.Z.setJWT(),e.next=4,c.Z.asPromise(s.Z.put("".concat(p,"/").concat(n),t));case 4:return u=e.sent,f=(0,a.Z)(u,2),m=f[0],v=f[1],m&&(g=m.data.data.category,null===r||void 0===r||r(d.X$.updateCategory({id:n,category:g})),null===o||void 0===o||o("/category-management")),null===r||void 0===r||r(l.Ay.setLoading(!1)),e.abrupt("return",[m,v]);case 11:case"end":return e.stop()}}),e)})));return function(n,t,a,r){return e.apply(this,arguments)}}()};n.Z=f}}]);
//# sourceMappingURL=7561.01112d39.chunk.js.map